# 서버 로그 확인 방법

## 로그가 추가된 위치

`backend/routes/report.js` 파일에 다음 로그들이 추가되어 있습니다:

1. `[리포트 생성] 분석 ID: ...` (13번 줄)
2. `[리포트 생성] 분석 조회 결과: ...` (28번 줄)
3. `[리포트 생성] analysis.result 타입: ...` (56번 줄)
4. `[리포트 생성] result 데이터 확인: ...` (96번 줄)
5. `[리포트 생성] result JSON 직렬화 성공` (111번 줄)
6. `[리포트 생성] 리포트 응답 전송 시작` (131번 줄)
7. `[리포트 생성] 리포트 응답 전송 완료` (140번 줄)

## 로그 확인 방법

### 방법 1: 서버 실행 터미널 확인 (가장 중요!)

**서버를 실행한 터미널**에서 로그를 확인해야 합니다:

```bash
# 터미널 1: 서버 실행
npm start

# 이 터미널에 로그가 출력됩니다!
# 리포트 생성 시도 시 다음과 같은 로그가 보여야 합니다:
# [리포트 생성] 분석 ID: analysis_xxxxx
# [리포트 생성] 분석 조회 결과: { found: true, ... }
# ...
```

### 방법 2: 로그 파일로 저장

서버 시작 시 로그를 파일로 저장:

```bash
npm start 2>&1 | tee server.log
```

그러면 `server.log` 파일에 모든 로그가 저장됩니다.

### 방법 3: 실시간 로그 확인

```bash
# 서버 실행
npm start > server.log 2>&1 &

# 다른 터미널에서 실시간 로그 확인
tail -f server.log | grep "리포트 생성"
```

## 현재 문제 진단

리포트 생성에서 500 에러가 발생하는데, 서버 콘솔 로그를 확인해야 정확한 원인을 알 수 있습니다.

**서버를 실행한 터미널**에서 리포트 생성 시도 시 어떤 로그가 출력되는지 확인해주세요!

## 빠른 확인 방법

서버가 실행 중인 상태에서:

```bash
# 다른 터미널에서 리포트 생성 테스트
curl -X POST http://localhost:3000/api/report/analysis_1769863551012_eu3ffqb9s
```

**서버를 실행한 터미널**에 `[리포트 생성]`으로 시작하는 로그가 출력됩니다!
