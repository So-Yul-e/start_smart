<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF 리포트 - StartSmart</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
  <!-- Header -->
  <header class="header no-print" id="header">
    <a href="../" class="logo">
      <i class="fa-solid fa-leaf text-gold"></i> StartSmart
    </a>
    <nav class="nav">
      <a href="../dashboard/"><i class="fa-solid fa-arrow-left"></i> 대시보드로 돌아가기</a>
    </nav>
    <div style="display:flex; gap:0.5rem;">
      <button id="btnPrint" class="btn-outline" onclick="window.print()">
        <i class="fa-solid fa-print" style="margin-right:0.5rem;"></i> 인쇄
      </button>
    </div>
  </header>

  <main class="report-main">
    <!-- ========== PAGE 0: Executive Summary + 창업 조건 요약 통합 ========== -->
    <div class="report-page" id="page0-executive">
      <div class="report-page-header">
        <div>
          <div class="report-logo">StartSmart</div>
          <div class="report-title-text">창업 타당성 검증 리포트</div>
        </div>
        <div class="report-meta-box">
          <div id="reportDate"></div>
          <div id="reportId" style="font-size:0.8rem; color:#999;"></div>
        </div>
      </div>

      <div class="report-stamp">대외비</div>

      <!-- 결론 카드 -->
      <div class="report-section">
        <h2 class="report-h2">Executive Summary</h2>
        <div id="rExecutiveCard" style="margin-bottom:2rem;">
          <div style="display:flex; align-items:center; gap:2rem; margin-bottom:1.5rem;">
            <div id="rScoreCircle" class="score-circle" style="width:80px; height:80px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1.8rem; font-weight:700; color:#fff; background:#4ade80;">
              <span id="rScoreNum">0</span>
            </div>
            <div>
              <div id="rSignalText" style="font-size:1.1rem; font-weight:600;"></div>
              <div id="rDecisionSummary" style="margin-top:0.5rem; color:var(--text-muted); font-size:0.95rem; line-height:1.5;"></div>
            </div>
          </div>
          <div id="rConfidence"></div>
        </div>
      </div>

      <!-- 창업 조건 요약 -->
      <div class="report-section" style="margin-top:2rem;">
        <h2 class="report-h2">1. 창업 조건 요약 (입력값 스냅샷)</h2>
        <table class="report-table">
          <tr><th>브랜드</th><td id="rBrand"></td></tr>
          <tr><th>입지 (지역/반경)</th><td id="rLocation"></td></tr>
          <tr><th>평수</th><td id="rArea"></td></tr>
          <tr><th>월세</th><td id="rRent"></td></tr>
          <tr><th>초기 투자금</th><td id="rInvestment"></td></tr>
          <tr><th>목표 일 판매량</th><td id="rTarget"></td></tr>
          <tr><th>점주 근무</th><td id="rOwner"></td></tr>
          <tr id="rLoansRow" style="display:none;"><th>대출 정보</th><td id="rLoans"></td></tr>
          <tr id="rExitInputsRow" style="display:none;"><th>Exit Plan 입력값</th><td id="rExitInputs"></td></tr>
        </table>
      </div>

      <div class="report-page-footer">StartSmart Inc. | AI 기반 창업 검증 플랫폼 | Page 1</div>
    </div>

    <!-- ========== PAGE 2: 손익 시뮬레이션 결과 ========== -->
    <div class="report-page" id="page3-pnl">
      <div class="report-page-header compact">
        <div class="report-logo small">StartSmart</div>
        <div style="font-size:0.8rem; color:#999;">창업 타당성 검증 리포트</div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">3. 손익 시뮬레이션 결과</h2>
        <table class="report-table" id="rFinanceTable">
          <thead>
            <tr>
              <th>항목</th>
              <th>금액 (월)</th>
              <th>비율</th>
            </tr>
          </thead>
          <tbody id="rFinanceBody"></tbody>
        </table>
      </div>

      <div class="report-section">
        <h2 class="report-h2">핵심 지표</h2>
        <div class="report-kpi-grid" id="rKpiGrid"></div>
      </div>

      <!-- 대출 상환 스케줄 (있는 경우) -->
      <div id="rDebtScheduleSection" class="report-section" style="display:none;">
        <h2 class="report-h2">대출 상환 스케줄</h2>
        <p style="color:var(--text-muted); font-size:0.9rem; margin-bottom:1rem;">월별 원리금 상환 내역 (12개월 미리보기)</p>
        <table class="report-table">
          <thead>
            <tr>
              <th>개월</th>
              <th>월 상환액</th>
              <th>이자</th>
              <th>원금</th>
              <th>잔액</th>
            </tr>
          </thead>
          <tbody id="rDebtScheduleBody"></tbody>
        </table>
      </div>

      <div class="report-section">
        <h2 class="report-h2">민감도 분석</h2>
        <p style="color:var(--text-muted); font-size:0.9rem; margin-bottom:1rem;">방문객 수 ±10%, 구매비용 ±5%</p>
        <table class="report-table">
          <thead>
            <tr><th>시나리오</th><th>월 순이익</th><th>투자 회수 기간</th></tr>
          </thead>
          <tbody id="rSensBody"></tbody>
        </table>
      </div>

      <div class="report-section">
        <h2 class="report-h2">점수 Breakdown</h2>
        <div id="rBreakdown"></div>
      </div>

      <div class="report-page-footer">StartSmart Inc. | AI 기반 창업 검증 플랫폼 | Page 4</div>
    </div>

    <!-- ========== PAGE 4: 구조적 리스크 진단 ========== -->
    <div class="report-page" id="page4-risks">
      <div class="report-page-header compact">
        <div class="report-logo small">StartSmart</div>
        <div style="font-size:0.8rem; color:#999;">창업 타당성 검증 리포트</div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">4. 구조적 리스크 진단 (AI Consulting Layer)</h2>
        <h3 class="report-h3">4-1. Top 3 리스크</h3>
        <div id="rRiskList"></div>
        <h3 class="report-h3" style="margin-top:2rem;">4-2. AI 해석</h3>
        <div id="rRiskAnalysis"></div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">경쟁 분석</h2>
        <div id="rCompetitive"></div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">입지 분석</h2>
        <div id="rRoadviewRisks"></div>
        <div id="rRoadviewSummary" style="margin-top:1.5rem;"></div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">상권 분석</h2>
        <div id="rMapImage"></div>
        <div id="rMarketCompetitors"></div>
        <div id="rMarketFootTraffic" style="margin-top:1.5rem;"></div>
        <div id="rMarketScore" style="margin-top:1.5rem;"></div>
      </div>

      <div class="report-page-footer">StartSmart Inc. | AI 기반 창업 검증 플랫폼 | Page 5</div>
    </div>

    <!-- ========== PAGE 5: 손절 & 폐업 판단 리포트 ========== -->
    <div class="report-page" id="page5-exit">
      <div class="report-page-header compact">
        <div class="report-logo small">StartSmart</div>
        <div style="font-size:0.8rem; color:#999;">창업 타당성 검증 리포트</div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">5. 손절 & 폐업 판단 리포트</h2>
        <h3 class="report-h3">5-1. 손절 기준선 (Break-Down Line)</h3>
        <div id="rBreakdownLine"></div>
        <h3 class="report-h3" style="margin-top:2rem;">5-2. 적자 지속 시 생존 개월 수</h3>
        <div id="rSurvivalOnLoss"></div>
        <h3 class="report-h3" style="margin-top:2rem;">5-3. 폐업 시 회수 구조</h3>
        <div id="rExitPlan"></div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">실패 트리거</h2>
        <div id="rFailureTriggers"></div>
      </div>

      <div class="report-page-footer">StartSmart Inc. | AI 기반 창업 검증 플랫폼 | Page 6</div>
    </div>

    <!-- ========== PAGE 6: 조건 변경 시 개선 시뮬레이션 ========== -->
    <div class="report-page" id="page6-improvements">
      <div class="report-page-header compact">
        <div class="report-logo small">StartSmart</div>
        <div style="font-size:0.8rem; color:#999;">창업 타당성 검증 리포트</div>
      </div>

      <div class="report-section">
        <h2 class="report-h2">6. 조건 변경 시 개선 시뮬레이션</h2>
        <div id="rImprovementList"></div>
        <div id="rBestLeverage" style="margin-top:2rem; padding:1.5rem; background:rgba(74,222,128,0.1); border-radius:var(--radius-sm); border-left:4px solid #4ade80;"></div>
      </div>

      <div class="report-page-footer">StartSmart Inc. | AI 기반 창업 검증 플랫폼 | Page 7</div>
    </div>

    <!-- Disclaimer -->
    <div class="report-page" id="page-disclaimer" style="min-height:auto; padding:2rem;">
      <div class="report-disclaimer" style="margin-top:1rem;">
        * 본 리포트는 AI 예측 모델에 기반한 시뮬레이션 결과로, 실제 결과와 다를 수 있습니다.<br>
        * 투자 결정 시 추가적인 전문가 상담을 권장합니다.
      </div>
    </div>
  </main>

  <script src="../js/mock-data.js"></script>
  <script src="../js/utils.js"></script>
  <script src="script.js"></script>
</body>

</html>
