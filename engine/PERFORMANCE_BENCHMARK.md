# 성능 벤치마크 결과

## 📊 성능 측정 결과 요약

### 주요 성능 지표

| 항목 | 평균 시간 | 초당 처리량 | 비고 |
|------|----------|------------|------|
| **Finance 계산** | 0.014ms | 71,871회/초 | 매우 빠름 |
| **Decision 계산** | 0.046ms | 21,568회/초 | 빠름 |
| **전체 파이프라인** | 0.038ms | 26,221회/초 | 빠름 |
| **시나리오 테이블 (5개)** | 0.028ms | 36,215회/초 | 빠름 |
| **대출 계산 오버헤드** | 0.003ms | - | 매우 작음 (83.1% 증가) |

### 병목 지점 분석

병목 지점 순위 (느린 순):

1. **Decision 점수 계산**: 0.049ms (99.1%)
   - Breakdown 계산 포함
   - 리스크 카드 생성
   - 생존 개월 수 추정

2. **대출 계산**: 0.000ms (0.3%)
   - 원리금 균등 상환 계산
   - DSCR 계산

3. **민감도 분석**: 0.000ms (0.3%)
   - ±10% 시나리오 계산

4. **비용 계산**: 0.000ms (0.2%)
   - 각 비용 항목별 계산

5. **기본 매출 계산**: 0.000ms (0.1%)
   - 목표 판매량 × 단가 × 30일

### 메모리 사용량

- **초기 힙 사용량**: 6.17MB
- **100회 계산 후**: 6.28MB
- **증가량**: 0.11MB
- **결론**: 메모리 누수 없음 ✅

### 성능 평가

#### ✅ 우수한 성능

1. **Finance 계산**: 0.014ms로 매우 빠름
   - 실시간 계산에 적합
   - 대량 요청 처리 가능 (71,871회/초)

2. **전체 파이프라인**: 0.038ms로 빠름
   - Finance + Decision 전체 계산
   - 실시간 분석에 충분

3. **시나리오 테이블**: 5개 시나리오 계산 시 0.028ms
   - 시나리오당 평균 0.006ms
   - 대량 시나리오 계산에도 적합

#### ⚠️ 최적화 가능 영역

1. **Decision 점수 계산**: 가장 느린 부분 (0.049ms)
   - 하지만 여전히 매우 빠름 (21,568회/초)
   - 현재 성능으로도 충분하나, 필요 시 최적화 가능

2. **대출 계산 오버헤드**: 83.1% 증가
   - 절대값은 매우 작음 (0.003ms)
   - 대출이 없는 경우와 비교 시 상대적으로 느림
   - 하지만 실용적으로 문제 없음

### 실제 사용 시나리오별 성능

#### 시나리오 1: 단일 계산 (Finance + Decision)
- **예상 시간**: ~0.05ms
- **초당 처리량**: ~20,000회
- **결론**: 실시간 분석에 충분 ✅

#### 시나리오 2: 시나리오 테이블 (5개 시나리오)
- **예상 시간**: ~0.15ms (5개 × 0.028ms)
- **초당 처리량**: ~6,667회
- **결론**: 실시간 분석에 충분 ✅

#### 시나리오 3: 대량 요청 (1000회)
- **예상 시간**: ~50ms
- **초당 처리량**: 20,000회
- **결론**: 대량 요청 처리 가능 ✅

### 성능 최적화 권장사항

#### 현재 상태: 최적화 불필요
- 모든 계산이 0.1ms 미만으로 매우 빠름
- 실시간 분석에 충분한 성능
- 메모리 누수 없음

#### 향후 최적화가 필요한 경우

1. **Decision 계산 최적화** (필요 시)
   - Breakdown 계산 캐싱
   - 리스크 카드 생성 최적화

2. **대량 요청 처리** (필요 시)
   - 병렬 처리 (Promise.all)
   - 워커 스레드 활용

3. **메모리 최적화** (필요 시)
   - 객체 재사용
   - 불필요한 데이터 제거

### 벤치마크 실행 방법

```bash
# 성능 벤치마크 실행
node engine/fixtures/performance-benchmark.js

# 또는 Node.js 가비지 컬렉션 옵션 포함
node --expose-gc engine/fixtures/performance-benchmark.js
```

### 테스트 환경

- **Node.js 버전**: v24.13.0
- **플랫폼**: win32
- **아키텍처**: x64

### 결론

✅ **현재 성능은 프로덕션 환경에 충분합니다.**

- 모든 계산이 0.1ms 미만으로 매우 빠름
- 실시간 분석에 적합
- 대량 요청 처리 가능
- 메모리 누수 없음
- 추가 최적화 불필요

---

## 📝 참고

- 벤치마크 스크립트: `engine/fixtures/performance-benchmark.js`
- 성능 측정은 개발 환경에서 실행되었으며, 프로덕션 환경에서는 네트워크 지연 등으로 인해 약간 느릴 수 있습니다.
