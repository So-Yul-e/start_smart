# ë¸Œëœë“œ ë°ì´í„° ê´€ë¦¬ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

`engine/data_local/` í´ë”ì˜ PDF íŒŒì¼ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ê° í”„ëœì°¨ì´ì¦ˆë³„ ê¸°ë³¸ê°’ì„ ì¶”ì¶œí•˜ì—¬ ê³„ì‚° ì—”ì§„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”í•©ë‹ˆë‹¤.

## ğŸ¯ ëª©í‘œ

1. **PDF ë°ì´í„° â†’ JSON ë³€í™˜**: ê° ë¸Œëœë“œ ì •ë³´ê³µê°œì„œ PDFì—ì„œ ê¸°ë³¸ê°’ ì¶”ì¶œ
2. **ë¸Œëœë“œë³„ ê³„ì‚°**: í”„ëœì°¨ì´ì¦ˆ ì„ íƒ ì‹œ í•´ë‹¹ ë¸Œëœë“œì˜ ë°ì´í„°ë¡œ ìë™ ê³„ì‚°
3. **ë°ì´í„° ì¼ê´€ì„±**: ëª¨ë“  ë¸Œëœë“œê°€ ë™ì¼í•œ êµ¬ì¡°ë¡œ ê´€ë¦¬

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
engine/data_local/
â”œâ”€â”€ brands.json              # ë¸Œëœë“œ ê¸°ë³¸ê°’ ë°ì´í„° (JSON)
â”œâ”€â”€ brandLoader.js           # ë¸Œëœë“œ ë°ì´í„° ë¡œë”
â”œâ”€â”€ README.md                # ì‚¬ìš© ê°€ì´ë“œ
â”œâ”€â”€ BRAND_DATA_GUIDE.md      # ë³¸ ë¬¸ì„œ
â””â”€â”€ *.pdf                    # ê° ë¸Œëœë“œ ì •ë³´ê³µê°œì„œ (12ê°œ)
```

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### 1. ë¸Œëœë“œ ë°ì´í„°ë¡œ ê³„ì‚°í•˜ê¸°

```js
const { getBrandForEngine } = require('./data_local/brandLoader');
const { calculate } = require('./finance');

// ë¸Œëœë“œ ë°ì´í„° ë¡œë“œ
const brand = getBrandForEngine('brand_mega');

// ì†ìµ ê³„ì‚°
const result = calculate({
  brand: brand,  // ë¸Œëœë“œ ë°ì´í„° ìë™ ì£¼ì…
  conditions: { ... },
  market: { ... },
  targetDailySales: 300
});
```

### 2. ëª¨ë“  ë¸Œëœë“œ ëª©ë¡ ì¡°íšŒ

```js
const { getAllBrands } = require('./data_local/brandLoader');

const brands = getAllBrands();
// [
//   { id: "brand_mega", name: "ë©”ê°€ì»¤í”¼", position: "ì €ê°€í˜•", ... },
//   { id: "brand_compose", name: "ì»´í¬ì¦ˆì»¤í”¼", position: "ì €ê°€í˜•", ... },
//   ...
// ]
```

### 3. ë¸Œëœë“œë³„ í…ŒìŠ¤íŠ¸

```bash
# ë‹¨ì¼ ë¸Œëœë“œ í…ŒìŠ¤íŠ¸
node engine/fixtures/brand-test.js brand_mega

# ëª¨ë“  ë¸Œëœë“œ í…ŒìŠ¤íŠ¸
node engine/fixtures/brand-test.js
```

## ğŸ“Š ë¸Œëœë“œ ë°ì´í„° êµ¬ì¡°

### í•„ìˆ˜ í•„ë“œ

```js
{
  id: "brand_mega",           // ë¸Œëœë“œ ID (ê³ ìœ )
  name: "ë©”ê°€ì»¤í”¼",            // ë¸Œëœë“œëª…
  position: "ì €ê°€í˜•",          // í¬ì§€ì…˜ (ì €ê°€í˜•/ì¤‘ê°€í˜•/í”„ë¦¬ë¯¸ì—„/ë² ì´ì»¤ë¦¬)
  defaults: {
    avgPrice: 3500,            // í‰ê·  ë‹¨ê°€ (ì›/ì”) - í•„ìˆ˜
    cogsRate: 0.35,            // ì›ê°€ìœ¨ (ë§¤ì¶œ ëŒ€ë¹„) - í•„ìˆ˜
    laborRate: 0.20,           // ì¸ê±´ë¹„ìœ¨ (ë§¤ì¶œ ëŒ€ë¹„) - í•„ìˆ˜
    utilitiesRate: 0.03,       // ê³µê³¼ê¸ˆ ë¹„ìœ¨ (ë§¤ì¶œ ëŒ€ë¹„)
    etcFixed: 1100000,         // ê¸°íƒ€ ê³ ì •ë¹„ (ì›)
    royaltyRate: 0.05,         // ë¡œì—´í‹°ìœ¨ (ë§¤ì¶œ ëŒ€ë¹„)
    marketingRate: 0.02,       // ë§ˆì¼€íŒ…ë¹„ìœ¨ (ë§¤ì¶œ ëŒ€ë¹„)
    ownerWorkingMultiplier: 0.6,  // ì ì£¼ ê·¼ë¬´ ì‹œ ì¸ê±´ë¹„ ê°ì‚° ê³„ìˆ˜
    expectedDailySales: null   // ê¸°ë³¸ ê¸°ëŒ€ íŒë§¤ëŸ‰ (optional)
  }
}
```

## ğŸ“ PDFì—ì„œ ë°ì´í„° ì¶”ì¶œ ë°©ë²•

### 1. ì •ë³´ê³µê°œì„œ PDF í™•ì¸

ê° ë¸Œëœë“œì˜ ì •ë³´ê³µê°œì„œ PDFì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ ì°¾ìŠµë‹ˆë‹¤:

- **í‰ê·  ê°ë‹¨ê°€**: ë§¤ì¶œ / íŒë§¤ëŸ‰
- **ì›ê°€ìœ¨**: ì›ì¬ë£Œë¹„ / ë§¤ì¶œ
- **ì¸ê±´ë¹„ìœ¨**: ì¸ê±´ë¹„ / ë§¤ì¶œ
- **ë¡œì—´í‹°ìœ¨**: ë¡œì—´í‹° / ë§¤ì¶œ
- **ë§ˆì¼€íŒ…ë¹„ìœ¨**: ë§ˆì¼€íŒ…ë¹„ / ë§¤ì¶œ
- **ì´ˆê¸° íˆ¬ìê¸ˆ**: ê°€ë§¹ë¹„ + êµìœ¡ë¹„ + ê¸°ìì¬ + ì¸í…Œë¦¬ì–´

### 2. ë°ì´í„° ì…ë ¥

`brands.json` íŒŒì¼ì— ì¶”ì¶œí•œ ë°ì´í„°ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

### 3. ê²€ì¦

```js
const { validateBrandDefaults } = require('./data_local/brandLoader');

const brand = getBrandById('brand_mega');
const validation = validateBrandDefaults(brand);

if (!validation.valid) {
  console.error('ê²€ì¦ ì‹¤íŒ¨:', validation.errors);
}
```

## ğŸ”„ ë°ì´í„° ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤

1. **PDF í™•ì¸**: ì •ë³´ê³µê°œì„œ ìµœì‹  ë²„ì „ í™•ì¸
2. **ë°ì´í„° ì¶”ì¶œ**: PDFì—ì„œ í•„ìš”í•œ ìˆ˜ì¹˜ ì¶”ì¶œ
3. **JSON ì—…ë°ì´íŠ¸**: `brands.json` íŒŒì¼ ìˆ˜ì •
4. **ê²€ì¦**: `validateBrandDefaults()` ì‹¤í–‰
5. **í…ŒìŠ¤íŠ¸**: `brand-test.js`ë¡œ ê³„ì‚° ê²°ê³¼ í™•ì¸

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°ì´í„° ì¶œì²˜ ëª…ì‹œ**: `metadata.source`ì— "ì •ë³´ê³µê°œì„œ" ëª…ì‹œ
2. **ì—…ë°ì´íŠ¸ ë‚ ì§œ**: `metadata.lastUpdated`ì— ì—°ë„ ì…ë ¥
3. **ê¸°ë³¸ê°’ ìš°ì„ ìˆœìœ„**: 
   - `market.expectedDailySales` â†’ `brand.defaults.expectedDailySales` â†’ `targetDailySales`
4. **ë°ì´í„° ì •í™•ì„±**: PDF íŒŒì‹±ì´ ì–´ë ¤ìš´ ê²½ìš° ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•˜ë˜, ì¶œì²˜ ëª…ì‹œ

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ì¼ ë¸Œëœë“œ í…ŒìŠ¤íŠ¸

```bash
node engine/fixtures/brand-test.js brand_mega
```

### ëª¨ë“  ë¸Œëœë“œ í…ŒìŠ¤íŠ¸

```bash
node engine/fixtures/brand-test.js
```

### ì˜ˆìƒ ì¶œë ¥

```
=== brand_mega í…ŒìŠ¤íŠ¸ ===
ë¸Œëœë“œ: ë©”ê°€ì»¤í”¼
í‰ê·  ë‹¨ê°€: 3500ì›
ì›ê°€ìœ¨: 35%

ğŸ“Š ì†ìµ ê³„ì‚° ê²°ê³¼:
- ì›” ë§¤ì¶œ: 3150ë§Œì›
- ì›” ìˆœì´ìµ: 845ë§Œì›
- íšŒìˆ˜ ê¸°ê°„: 23.7ê°œì›”
- GAP: 17.2%

ğŸ¯ íŒë‹¨ ê²°ê³¼:
- ì ìˆ˜: 82
- ì„±ê³µ í™•ë¥ : 82.0%
- ì‹ í˜¸ë“±: green
- ìƒì¡´ ê°œì›”: 36ê°œì›”
```

## ğŸ“‹ ë¸Œëœë“œ ëª©ë¡ (12ê°œ)

1. **ë©”ê°€ì»¤í”¼** (brand_mega) - ì €ê°€í˜•
2. **ì»´í¬ì¦ˆì»¤í”¼** (brand_compose) - ì €ê°€í˜•
3. **ë¹½ë‹¤ë°©** (brand_baek) - ì¤‘ê°€í˜•
4. **ì´ë””ì•¼ì»¤í”¼** (brand_ediya) - ì¤‘ê°€í˜•
5. **íˆ¬ì¸í”Œë ˆì´ìŠ¤** (brand_twosome) - í”„ë¦¬ë¯¸ì—„
6. **í• ë¦¬ìŠ¤** (brand_hollys) - í”„ë¦¬ë¯¸ì—„
7. **íƒì•¤íƒìŠ¤** (brand_tomntoms) - ì¤‘ê°€í˜•
8. **ë˜í‚¨ë„ë„ˆì¸ ** (brand_dunkin) - ë² ì´ì»¤ë¦¬
9. **íŒŒë¦¬ë°”ê²ŒíŠ¸** (brand_paris) - ë² ì´ì»¤ë¦¬
10. **ëšœë ˆì¥¬ë¥´** (brand_tous) - ë² ì´ì»¤ë¦¬
11. **ë°”ë‚˜í”„ë ˆì†Œ** (brand_banapresso) - ì €ê°€í˜•
12. **ë§Œë ™ì»¤í”¼** (brand_manleap) - ì €ê°€í˜•

## ğŸ”— ê´€ë ¨ íŒŒì¼

- `engine/finance/calculator.js`: ë¸Œëœë“œ defaults ì‚¬ìš©
- `engine/fixtures/brand-test.js`: ë¸Œëœë“œë³„ í…ŒìŠ¤íŠ¸
- `engine/fixtures/mega-gangnam.js`: ë©”ê°€ì»¤í”¼ ì˜ˆì œ (ì—…ë°ì´íŠ¸ë¨)
